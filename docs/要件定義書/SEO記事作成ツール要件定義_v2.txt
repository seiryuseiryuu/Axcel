SEO記事作成ツール 要件定義書（改訂版 v2）
================================================================================

【ツール概要】
競合のSEO上位記事を分析し、ターゲット読者に最適化された
検索1位を狙える高品質なSEO記事を生成するツール

================================================================================
制作フロー概要（6ステップ）
================================================================================

STEP1：キーワード・参考記事の入力
    ↓
STEP2：参考記事の構成分解（H2ごとの詳細分析）
    ↓
STEP3：想定読者の分析（導入への興味を重視）
    ↓
STEP4：参考記事の改善点を出力（シンプルに1,2,3形式）
    ↓
STEP5：記事構成の作成（参考記事の構成に沿う）
    ↓
STEP6：記事のライティング

================================================================================
STEP1：キーワード・参考記事の入力
================================================================================

【目的】
ユーザーから必要な情報を収集し、記事制作の方向性を定める

【入力項目】
* メインキーワード【必須】
   * 例：「Webデザイン 独学 始め方」
   * 検索ボリュームがあるキーワードを選定

* サブキーワード（カンマ区切り）【任意】
   * 例：「初心者向け, 副業, スキルアップ」
   * 記事内で自然に含めるキーワード

* 参考記事URL（1〜3本）【必須】
   * 「上位記事を自動取得」ボタン
     - キーワード入力後、ボタンクリックで検索上位1〜3位の記事を自動取得
     - または手動でURLを入力する選択肢も残す
   * 狙いたいキーワードで検索した1位〜3位の記事
   * 競合分析の対象となる

* ターゲット読者【任意】
   * 例：「未経験からWebデザイナーを目指す人」

* 目標文字数【必須】
   * 例：3000〜8000文字
   * 検索意図に応じて適切な文字数を設定

* 希望の記事構成【任意】
   * 例：「問題提起→解決策→具体例→まとめ」

* 文体【任意】
   * 例：「親しみやすく専門的」「フランク」「丁寧語」

* 誘導先リンク（CTA）【任意】
   * 例：「https://example.com/your-service」
   * 記事内に自然にCTAボタンを配置

* CTAボタンテキスト【任意】
   * 例：「無料で始める」「詳しくはこちら」

* 著者の専門性（E-E-A-T）【任意】
   * 例：「現役Webデザイナー10年、講座受講者300名以上」
   * Googleが重視するE-E-A-T要素を強化するため

【処理ロジック】
1. 「上位記事を自動取得」ボタン押下時
   - Tavily APIまたはGoogle検索APIで上位3記事を自動取得
   - URLを自動入力
2. 参考記事URLから記事本文を取得（スクレイピング）
3. 上位記事から検索意図を分析（キーワードからではなく）
4. 次のSTEPに必要な情報を整理

【プロンプト：検索意図分析（上位記事から分析）】
```
あなたはSEOの専門家です。以下の上位表示されている記事を分析し、
検索意図を特定してください。

【メインキーワード】
${mainKeyword}

【上位記事のタイトルと見出し】
${topArticlesTitles}

【分析項目】
※キーワードではなく、上位記事の内容から検索意図を分析すること

1. 検索意図（Informational / Navigational / Commercial / Transactional）
   - 根拠：上位記事が提供している情報から判断
2. 想定される検索者の状況
   - 上位記事が想定している読者像
3. 検索者が求めている情報
   - 上位記事で共通して提供されている情報
4. 記事に含めるべき必須トピック
   - 上位記事すべてに共通するトピック

JSON形式で出力してください：
{
  "searchIntent": "...",
  "evidence": "上位記事から判断した根拠",
  "searcherSituation": "...",
  "expectedInformation": ["...", "...", "..."],
  "requiredTopics": ["...", "...", "..."]
}
```

================================================================================
STEP2：参考記事の構成分解（H2ごとの詳細分析）
================================================================================

【目的】
競合記事を要素分解し、成功パターンを把握する

【分析項目】

* タイトルの構成（本質的な分析）
   * 数字の有無ではなく、タイトル構成の本質を分析
   * 読者がひかれるタイトル構成は何か
   * 語順と文節に区切って分析
   * なぜこのタイトルがクリックされるのか

* H2ごとの詳細分析（各H2単位で分析）
   * 各H2の見出しテキスト
   * そのH2配下のH3構成
   * そのセクションで提供している価値
   * 読者の疑問にどう答えているか
   * キーワードの含め方

* 使用しているデータ・事例
   * 統計データの引用
   * 具体例・ケーススタディ
   * 図表・画像の使用

* 外部リンクの使い方
   * 権威サイトへの引用

* CTA（メルマガ登録、商品誘導等）
   * CTAの配置場所
   * CTAの文言

【処理ロジック】
1. 参考記事URLからHTMLを取得
2. タイトル、見出し、本文を抽出
3. H2ごとに構成要素を分析してJSON形式で整理
4. ユーザーに確認を送る

【プロンプト：構成分解（H2ごとの分析）】
```
あなたはSEO記事の構成分析の専門家です。
以下の記事を詳細に分析してください。

【記事タイトル】
${articleTitle}

【記事本文】
${articleContent}

【分析項目】

1. タイトル構成分析（本質的な分析）
   - タイトル文節分解: ["文節1", "文節2", "文節3"]
   - 語順の意図: "なぜこの語順になっているか"
   - 読者を惹きつける要素: "..."
   - クリックされる理由: "..."
   ※数字の有無だけでなく、構成の本質を分析すること

2. H2ごとの詳細分析
   各H2について以下を分析：
   
   - H2-1:
     - 見出しテキスト: "..."
     - 配下のH3: ["...", "...", "..."]
     - 提供している価値: "..."
     - 読者の疑問への回答: "..."
     - キーワード配置: "..."
   
   - H2-2:
     - 見出しテキスト: "..."
     - 配下のH3: ["...", "...", "..."]
     - 提供している価値: "..."
     - 読者の疑問への回答: "..."
     - キーワード配置: "..."
   
   （以下、全H2について同様に分析）

3. 使用されているデータ・事例
   - 統計データ: ["...", "..."]
   - 具体例: ["...", "..."]

4. CTA分析
   - 配置場所: ["導入後", "本題中", "まとめ"]
   - CTA内容: "..."

JSON形式で出力してください。
```

【ユーザー確認】
「この分析で合っていますか？修正があればお知らせください。」

================================================================================
STEP3：想定読者の分析（導入への興味を重視）
================================================================================

【目的】
記事を読むターゲット読者を明確にし、最適な情報提供レベルを決定する

【分析項目】

* レベル感
   * 超初心者：その内容を全く情報収集すらしたことがない
      * 専門用語の説明が必要
      * 基礎から丁寧に解説
      * 具体的なステップが必要
   
   * 初心者：情報収集はしていて、行動し始めたばかり
      * 基本は知っているが実践方法が分からない
      * つまずきやすいポイントの解説が必要
   
   * 中級者：行動しているが、最適な方法が分かっていない
      * 効率化・最適化の方法を求めている
      * より専門的な内容を期待
   
   * 上級者：すでに結果が出ているが、さらに上を目指したい
      * 最新情報・応用テクニックを求めている
      * データに基づいた深い分析を期待

* 悩み・ニーズ
   * その記事を読むことで、どんな悩みや課題を解決できると思って読むのか
   * 検索した時点での心理状態
   * 記事を読んだ後に期待する状態

* 導入に対する興味分析（重視項目）
   * なぜこの記事をクリックしたのか
   * 導入部分を読んで何に興味を持つのか
   * どのような導入なら読み続けるのか
   * 離脱を防ぐために必要な要素

* 他に受け取っている情報・リテラシー
   * レベル感に合わせて、想定できる情報リテラシーを明確にする
   * すでに知っている情報（これと同じ情報だけでは価値がない）
   * 競合記事で提供されている情報

【処理ロジック】
1. キーワードと参考記事から想定読者を推定
2. レベル感・悩み・リテラシーを分析
3. 導入への興味を重点的に分析
4. ユーザーに確認を取る
5. 必要に応じて修正

【プロンプト：読者分析（導入への興味を重視）】
```
あなたはマーケティングの専門家です。
以下のキーワードと参考記事から、想定読者を詳細に分析してください。

【メインキーワード】
${mainKeyword}

【参考記事の内容サマリー】
${articleSummary}

【分析項目】

1. レベル感
   - 該当レベル: (超初心者/初心者/中級者/上級者)
   - 根拠: "..."

2. 悩み・ニーズ
   - 検索時の心理状態: "..."
   - 解決したい具体的な悩み: ["...", "...", "..."]
   - 記事を読んだ後に期待する状態: "..."

3. 導入に対する興味分析（重視）
   - クリックした理由: "..."
   - 導入で興味を持つポイント: ["...", "...", "..."]
   - 読み続けるために必要な要素: "..."
   - 離脱リスクとその対策: "..."

4. 情報リテラシー
   - すでに知っていると思われる情報: ["...", "...", "..."]
   - 求めている新しい情報: ["...", "...", "..."]

5. ペルソナ像
   - 年齢層: XX代
   - 職業: "..."
   - 状況: "..."

JSON形式で出力してください。
```

【ユーザー確認】
「想定読者はこのような方ですね？修正があればお知らせください。」

================================================================================
STEP4：参考記事の改善点を出力（シンプルに1,2,3形式）
================================================================================

【目的】
想定読者のニーズに対して、参考記事の過不足を特定し、差別化ポイントを明確にする

【出力項目】

* 付け加える内容（参考記事で不足している情報）：10個
   * 想定読者が知りたいが、参考記事にない情報
   * より具体的な事例・データ
   * 最新情報
   * 独自の視点・経験

* 削除/改善する内容（参考記事で不要な部分）：10個
   * 想定読者に不要な情報
   * 冗長な説明
   * 古い情報
   * 検索意図から外れる内容

【出力形式】シンプルに番号リスト形式
```
【付け加える内容】
1. 〇〇を追加する
2. △△のデータを入れる
3. □□の具体例を追加する
...

【削除/改善する内容】
1. 〇〇は削除する
2. △△は簡潔にする
3. □□は最新情報に更新する
...
```

【処理ロジック】
1. 想定読者のレベル感・悩み・ニーズと参考記事の内容を比較
2. 過不足を特定
3. シンプルな1,2,3形式で10個ずつリストアップ
4. ユーザーにチェックボックスで選択させる

【プロンプト：改善点分析（シンプル形式）】
```
あなたはSEOコンテンツ戦略の専門家です。
想定読者と参考記事を比較し、改善点を提案してください。

【想定読者】
- レベル感: ${readerLevel}
- 悩み・ニーズ: ${readerNeeds}
- 情報リテラシー: ${readerLiteracy}

【参考記事の構成】
${articleStructure}

【出力形式】シンプルに1,2,3形式で出力

【付け加えるべき内容】
1. 〇〇
2. △△
3. □□
（10個まで）

【削除/改善すべき内容】
1. 〇〇
2. △△
3. □□
（10個まで）

※理由は不要、端的に項目のみ出力すること
```

【ユーザー確認】
「以下の改善点を提案します。採用するものにチェックを入れてください。」
※チェックボックス形式で選択可能にする

================================================================================
STEP5：記事構成の作成（参考記事の構成に沿う）
================================================================================

【目的】
改善点を反映した最適な記事構成を設計する
マーケットイン：参考記事の構成・語順に沿って作成

【出力項目】

* H1タイトル案3パターン
   * パターン定義型ではなく、参考記事のタイトル構成・語順に沿って作成
   * 参考記事で分析した成功パターンを踏襲
   * 語順・文節構成を参考記事に合わせる

* H2/H3の見出し構成
   * 参考記事の見出し構成に沿う（マーケットイン）
   * H2×4〜6個
   * 各H2にH3×2〜3個
   * キーワードを自然に含める

* 各セクションで書く内容の概要
   * 参考記事の見出し構成・内容の概要に沿う
   * 導入：読者の悩みに共感、記事を読むメリット提示
   * 本題1〜N：具体的な解決策・情報提供
   * まとめ：要点整理、次のアクション提示

【処理ロジック】
1. STEP4で選択された改善点を反映
2. 参考記事の構成をベースにSEO最適化
3. ユーザーに確認を取る
4. 必要に応じて修正

【プロンプト：構成作成（参考記事に沿う）】
```
あなたはSEO記事構成のプロフェッショナルです。
以下の情報をもとに、検索1位を狙える記事構成を作成してください。

※重要：マーケットインの視点で、参考記事の構成・語順に沿って作成すること

【メインキーワード】
${mainKeyword}

【サブキーワード】
${subKeywords}

【想定読者】
${readerProfile}

【参考記事のタイトル構成分析】
${analyzedTitleStructure}

【参考記事のH2構成】
${analyzedH2Structure}

【採用する改善点】
${selectedImprovements}

【目標文字数】
${targetWordCount}

【出力形式】

## タイトル案（3パターン）
※参考記事のタイトル構成・語順に沿って作成

### 案1:
"..."
- 参考にした構成要素: "..."
- 語順の意図: "..."

### 案2:
"..."
- 参考にした構成要素: "..."
- 語順の意図: "..."

### 案3:
"..."
- 参考にした構成要素: "..."
- 語順の意図: "..."

## 見出し構成
※参考記事の見出し構成に沿って作成

### H2-1: "..."
（目安文字数: XXX文字）
- H3-1-1: "..."
- H3-1-2: "..."
- このセクションの概要: "..."
- 参考記事のどのH2を参考にしたか: "..."

### H2-2: "..."
（目安文字数: XXX文字）
- H3-2-1: "..."
- H3-2-2: "..."
- このセクションの概要: "..."
- 参考記事のどのH2を参考にしたか: "..."

... (H2×4〜6)

### H2-まとめ: "..."
（目安文字数: XXX文字）
- 要点整理
- 次のアクション提示

## メタディスクリプション案
"..." (120〜160文字)
```

【ユーザー確認】
「この構成でよろしいですか？修正があればお知らせください。」

================================================================================
STEP6：記事のライティング
================================================================================

【目的】
指定された構成に沿って、SEO最適化された高品質な記事を執筆する

【出力形式】
* HTML形式
   * 目次（アンカーリンク付き）
   * 本文（H2×4〜6、各H2にH3×2〜3）
   * FAQ（よくある質問3つ）※構造化データ対応
   * まとめ＋CTA

【ライティング規則】

* SEO最適化
   - タイトルにメインキーワードを含める（前方配置推奨）
   - H2見出しにキーワードを自然に含める
   - 導入文にメインキーワードを含める
   - 適切なキーワード密度（1〜3%程度）

* 読みやすさ
   - 一文は60文字以内を目安
   - 段落は3〜4文で区切る
   - 適切に箇条書きを使用
   - 専門用語には説明を付ける

* 読者レベルに合わせた表現
   - 超初心者向け：専門用語を避け、具体例を多用
   - 初心者向け：基本から丁寧に説明
   - 中級者向け：効率化・最適化にフォーカス
   - 上級者向け：データ・事例を豊富に

* E-E-A-T対応
   - Experience（経験）：実体験を含める
   - Expertise（専門性）：専門知識を示す
   - Authoritativeness（権威性）：信頼できる情報源を引用
   - Trustworthiness（信頼性）：正確な情報を提供

【プロンプト：記事ライティング】
```
あなたは${topic}分野の専門家であり、SEOライティングのプロフェッショナルです。
以下の構成と規則に従って、検索1位を狙える高品質な記事を執筆してください。

【メインキーワード】
${mainKeyword}

【サブキーワード】
${subKeywords}

【想定読者】
- レベル感: ${readerLevel}
- 悩み: ${readerNeeds}

【承認された構成】
${approvedStructure}

【目標文字数】
${targetWordCount}

【ライティング規則】

1. SEO最適化
   - タイトルにメインキーワードを前方配置
   - 各H2見出しにキーワードを自然に含める
   - 導入部の最初の100文字以内にメインキーワードを含める
   - キーワード密度は1〜3%

2. 読みやすさ
   - 一文は60文字以内
   - 段落は3〜4文で区切る
   - 箇条書きを適切に使用
   - 難しい概念は具体例で説明

3. 読者レベル: ${readerLevel}
   - このレベルに合わせた用語選択
   - このレベルに合わせた説明の詳しさ

4. E-E-A-T
   - 実体験を1〜2箇所含める
   - 統計データを2〜3箇所引用
   - 信頼できる情報源へのリンクを含める

5. 文体
   - ${writingStyle}

【出力形式】
HTML形式で以下を含める：

1. 目次（アンカーリンク付き）
<nav class="toc">
  <h2>目次</h2>
  <ol>
    <li><a href="#section1">見出し1</a></li>
    ...
  </ol>
</nav>

2. 本文
<article>
  <h1>${title}</h1>
  
  <section id="intro">
    <p>導入文...</p>
  </section>
  
  <section id="section1">
    <h2>見出し1</h2>
    <h3>小見出し1-1</h3>
    <p>本文...</p>
    ...
  </section>
  ...
</article>

3. FAQ（構造化データ対応）
<section class="faq">
  <h2>よくある質問</h2>
  <div itemscope itemtype="https://schema.org/FAQPage">
    <div itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
      <h3 itemprop="name">質問1</h3>
      <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
        <p itemprop="text">回答1</p>
      </div>
    </div>
    ...
  </div>
</section>

4. まとめ＋CTA
<section id="conclusion">
  <h2>まとめ</h2>
  <p>まとめ文...</p>
  <div class="cta">
    <p>CTAメッセージ...</p>
  </div>
</section>

各セクションの文字数も確認し、目標文字数に達するようにしてください。
```

================================================================================
SEO最適化ルール（検索1位を狙う）
================================================================================

【タイトル最適化】
* メインKWを前方（最初の15文字以内）に配置
* 32文字以内で収める
* 数字を含める（例: 〇〇の方法7選、2025年最新版）
* ベネフィットを明示（例: 初心者でも〇〇できる）
* クリックしたくなる好奇心を刺激

【メタディスクリプション】
* 120〜160文字
* メインKWとサブKWを自然に含める
* 記事を読むメリットを明確に
* 行動喚起（「〜を解説します」「〜がわかります」）

【見出し構成（H2/H3）】
* H2にメインKWまたは関連KWを含める
* H3で具体的なトピックを展開
* ユーザーの疑問に直接答える形式
* 見出しだけで記事内容が把握できる

【本文SEO】
* 導入文の最初の100文字以内にメインKWを含める
* キーワード密度1〜3%を維持
* 共起語（関連ワード）を自然に盛り込む
* 一文は60文字以内、段落は3〜4文で区切る

【外部リンク（権威性向上）】
* 公式サイト、政府機関、学術論文などへの引用リンク
* rel="noopener"を付与

【構造化データ（リッチスニペット対応）】
* FAQスキーマを含める
* Articleスキーマを含める

================================================================================
入力項目一覧
================================================================================

* 参考記事URL（1〜3本）【必須】※自動取得ボタンあり
* メインキーワード【必須】
* サブキーワード（カンマ区切り）【任意】
* ターゲット読者【任意】
* 目標文字数【必須】
* 希望の記事構成【任意】
* 文体（親しみやすく/専門的/フランク等）【任意】
* 誘導先リンク（CTA）【任意】
* CTAボタンテキスト【任意】
* 著者の専門性（E-E-A-T）【任意】

================================================================================
出力項目一覧
================================================================================

* 検索意図分析結果（上位記事から分析）
* 参考記事の構成分解結果（H2ごとの詳細分析）
* 想定読者分析結果（導入への興味を重視）
* 改善提案リスト（シンプルに1,2,3形式で追加10個、削除10個）
* 記事構成案（参考記事の構成に沿ったタイトル3案、見出し構成）
* 完成記事（HTML形式）
* メタディスクリプション
* FAQ（構造化データ付き）

================================================================================
技術仕様
================================================================================

* 使用AI：Gemini API（gemini-2.0-flash）
* Web検索：Tavily API（上位記事自動取得用）
* スクレイピング：Cheerio / Puppeteer
* 出力形式：HTML

================================================================================
注意事項
================================================================================

* 上位記事から検索意図を正確に把握する（キーワードからではなく）
* ターゲットキーワードを不自然に入れすぎない（キーワードスタッフィング回避）
* 読者のレベルに合った言葉遣いをする
* 競合との差別化ポイントを明確にする
* 各ステップでユーザー確認を取り、勝手に次に進まない
* マーケットイン：参考記事の構成・語順に沿って記事構成を作成する

================================================================================
品質チェックリスト
================================================================================

□ メインキーワードがタイトルの前方（15文字以内）に配置されている
□ タイトルが32文字以内である
□ 各H2見出しにキーワードまたは関連KWが自然に含まれている
□ 導入文100文字以内にメインキーワードが含まれている
□ 目標文字数に達している
□ 一文が60文字以内に収まっている
□ 段落が3〜4文で区切られている
□ 専門用語に説明が付いている
□ 具体例・データが含まれている
□ FAQが3つ含まれている（構造化データ付き）
□ CTAが複数箇所に配置されている
□ E-E-A-T要素が含まれている（実体験、統計データ、権威引用）
□ メタディスクリプションが120〜160文字である
□ Articleスキーマが含まれている

================================================================================
変更履歴
================================================================================

【2024/12/27 改訂版 v2】

1. 上位記事自動取得ボタン追加
   - キーワード入力後、ボタンクリックで上位記事を自動取得可能に

2. 検索意図分析の方法変更
   - キーワードからではなく、上位記事から検索意図を分析

3. タイトル分析の本質化
   - 数字の有無ではなく、語順・文節に区切った本質的な分析

4. H2ごとの詳細分析
   - 全体ではなく、各H2単位での詳細分析

5. 導入への興味を重視
   - ニーズ分析で導入部分への興味を重点的に分析

6. 改善点の出力形式簡略化
   - 1,2,3のみのシンプルな形式で出力

7. タイトル案のパターン変更
   - 定義型ではなく、参考記事の構成・語順に沿って出力

8. 見出し構成のマーケットイン化
   - 参考記事の見出し構成・内容に沿って出力

9. 内部リンク項目削除
   - 入力項目から削除
